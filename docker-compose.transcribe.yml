version: '3.8'

services:
  transcribe:
    build: ./backend
    ports:
      - "8765:8765"
    environment:
      - TRANSCRIBE_HOST=0.0.0.0
      - TRANSCRIBE_PORT=8765
      - WHISPER_MODEL=base  # tiny, base, small, medium, large
    restart: unless-stopped
    # For GPU support (NVIDIA), uncomment:
    # deploy:
    #   resources:
    #     reservations:
    #       devices:
    #         - driver: nvidia
    #           count: 1
    #           capabilities: [gpu]
